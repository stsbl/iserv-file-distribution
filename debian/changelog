stsbl-iserv-file-distribution (17.07.21-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed compatibility with LockBundle.
  * Fixed typos.
  * Updated internet handling for using ComputerBundle.
  * Use resources from LockBundle and dropped legacy lock handling.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 21 Jul 2017 16:50:32 +0200

stsbl-iserv-file-distribution (17.07.21-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Re-relase with correct version number. No further changes.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 21 Jul 2017 12:12:57 +0200

stsbl-iserv-file-distribution (17.07.20-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed typos.
  * Switched to hasBundle for iserv-lock.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 21 Jul 2017 12:09:12 +0200

stsbl-iserv-file-distribution (17.07.18-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed extended description.
  * Fixed duplicate alias.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Tue, 18 Jul 2017 06:24:30 +0200

stsbl-iserv-file-distribution (17.07.18-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Removed old FileDistributionManager methods.
  * Fixed compatibility of FileDistributionManager with HostBundle update.
  * Always remove lock database bridge.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Tue, 18 Jul 2017 02:17:22 +0200

stsbl-iserv-file-distribution (17.06.28-2) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed missing import.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Wed, 28 Jun 2017 21:33:33 +0200

stsbl-iserv-file-distribution (17.06.28-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed path of glyphicons-social.css.
  * Restructured javascript code.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Wed, 28 Jun 2017 21:06:31 +0200

stsbl-iserv-file-distribution (17.06.28-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed control.
  * Optimized CRUD, BatchActions and JavaScripts for new CRUD library.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Wed, 28 Jun 2017 19:38:18 +0200

stsbl-iserv-file-distribution (17.06.17-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Removed deprecated usage.
  * Fixed sorting of file distributions.
  * Moved file distribution meta information in file distribution column.
  * Removed not longer required list template.
  * Improved icon whitespacing.
  * Updated l10n.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sat, 17 Jun 2017 22:30:22 +0200

stsbl-iserv-file-distribution (17.06.17-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * FileDistributionController: Cleaned use statements.
  * Added GroupableBatchActionInterface to grouped batch actions.
  * Rewrote List filter configuration using QueryBuilder expressions.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sat, 17 Jun 2017 16:16:53 +0200

stsbl-iserv-file-distribution (17.06.14-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Updated install file.
  * Updated rules file.
  * Updated build deps and rules.
  * LockAction: Fixed flash message and skipping of own host.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Wed, 14 Jun 2017 23:11:24 +0200

stsbl-iserv-file-distribution (17.06.12-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Revert conflicting of iserv3-crud, as it would cause the accidential removal of the module.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 12 Jun 2017 01:00:34 +0200

stsbl-iserv-file-distribution (17.06.06-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Conflict old iserv3-crud without FormExtendingBatchActionInterface.
  * Updated extra form elements handling to FormExtendingBatchActionInterface.
  * Removed legacy workarounds.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Tue, 06 Jun 2017 21:38:20 +0200

stsbl-iserv-file-distribution (17.06.03-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Improved compatibility with CSP.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sat, 03 Jun 2017 21:06:52 +0200

stsbl-iserv-file-distribution (17.05.24-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Order rooms in IncludeRoomAdmin by name.
  * file_distribution_rpc: Improved input validation.
  * FileDistribution.pm: Print ssh errors again.
  * FileDistribution.pm: Enabled utf8 support.
  * FIleDistirubtionCrud: Improved batch action privilege handling.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Wed, 24 May 2017 07:16:03 +0200

stsbl-iserv-file-distribution (17.05.13-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed list filter configuration if stsbl-iserv3-internet is not installed.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sat, 13 May 2017 20:43:24 +0200

stsbl-iserv-file-distribution (17.05.13-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added support for switching access to group folder and other common shares.
  * Updated l10n.
  * Fixed typo.
  * Added spaces to cron job definitions.

  iserv: Das neue Update bringt die Möglichkeit mit, vor dem Starten einer
    Dateiverteilung zu entscheiden, wie und ob die Gruppenordner und andere
    Dateifreigaben während dieser zur Verfügung stehen: Möglich sind, die
    Freigaben wie sonst verfügbar zu lassen, den Zugriff auf lesend zu
    beschränken oder alle Freigaben durch leere Ordner zu ersetzen. Somit kann
    verhindert werden, dass Schüler während einer laufenden Dateiverteilung
    Daten über die Gruppenlaufwerke austauschen. Als Administrator kann unter
    "Verwaltung" > "System" > "Konfiguration" > "Modul: Dateiverteilung" >
    "Standardauswahl von Verfügbarkeit von Gruppenordnern und Freigaben" ein
    Standardwert für die Option eingestellt werden.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sat, 13 May 2017 20:25:54 +0200

stsbl-iserv-file-distribution (17.05.12-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * bugfixes:
    - privacy: Do not show user names in batch actions outside of LAN, only show "Yes".

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 12 May 2017 23:31:52 +0200

stsbl-iserv-file-distribution (17.05.07-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed command of lock action (called accidentally exam mode).

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sun, 07 May 2017 20:54:22 +0200

stsbl-iserv-file-distribution (17.05.07-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Moved config purging to own cronjob.
  * Ensure that 0.0.0.0 stub configuration file is empty.
  * file_distribution_config_empty: Prevent wrong error message.
  * Display only hosts in filter Internet: {yes,no} which have overrideRoute not set.
  * Internet access filters: Exclude exam mode hosts.
  * Count NAC activation as Internet: yes.
  * Updated l10n.
  * Moved Nac entity and database grants to IServ 3 internet module.
  * Moved NAC-related classes (entity) to internet3 module.
  * Switched to hasBundle for Internet detection.
  * Display NAC expiration.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sun, 07 May 2017 20:28:50 +0200

stsbl-iserv-file-distribution (17.05.05-3) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed missing dollar sign escaping, which let iservchk repair the setup script at every run.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 05 May 2017 10:22:42 +0200

stsbl-iserv-file-distribution (17.05.05-2) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added support for controlling internet, start & shutdown and exam mode via file distribution interface.
  * Added detection of internet access which is granted via NAC.

  iserv: Sämtliche Operationen, die über die Rechnersteuerung gesteuert werden
    können (Internetzugriff, Hoch-/Herunterfahren und der Klausurmodus) können
    nun auch über die Oberfläche der Dateiverteilung gesteuert werden.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 05 May 2017 10:09:10 +0200

stsbl-iserv-file-distribution (17.05.05-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Only offer rooms with a controllable host in the room filter.
  * Fixed l10n.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 05 May 2017 02:42:11 +0200

stsbl-iserv-file-distribution (17.05.05-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Removed not required parameter format from folder link.
  * Added new FileDistributionManager based on HostManager.
  * Removed old rpc service.
  * Reworked win/linux detection of rpc command.
  * Show more information in confirm batch (ping, room and  user).
  * FileDistributionManager: Replace broken ping implementation.
  * Moved own host check from controller to batch action.
  * Removed services not longer required services from FileDistributionCrud.
  * Removed uneeded methods from FileDistributionCrud.
  * Added linux support.

  iserv: Dieses Update enthält kleinere Verbesserungen: Es werden nun im 
    Bestätigungsdialog mehr Informationen zu den ausgewählten Geräten
    angezeigt: Dort sind nun zusätzlich der aktuelle Online-Status, der
    Raum des Gerätes und der angemeldete Benutzer sichtbar. Außerdem wurde mit
    diesem Update Unterstützung für Linux-Clients hinzugefügt, diese können nun
    genau wie Windows-Clients ohne Einschränkungen an Dateiverteilungen
    teilnehmen.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Fri, 05 May 2017 02:11:01 +0200

stsbl-iserv-file-distribution (17.05.01-4) experimental; urgency=medium

  [ Felix Jacobi ]
  * iservchk: Prevent wrong removal of stsbl-iserv-file-distribution-bridge-lock.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 01 May 2017 17:04:47 +0200

stsbl-iserv-file-distribution (17.05.01-3) experimental; urgency=medium

  [ Felix Jacobi ]
  * Add notice if no rooms are configured.
  * Updated l10n.

  iserv: Durch das letzte Update, ist es erforderlich, die
    verfügbaren Räume zu konfigurieren, rufen Sie das Modul auf und folgen den
    entsprechenden Hinweisen.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 01 May 2017 08:20:35 +0200

stsbl-iserv-file-distribution (17.05.01-2) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added missing database table.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 01 May 2017 07:34:25 +0200

stsbl-iserv-file-distribution (17.05.01-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * iservchk: Fixed neol.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 01 May 2017 07:14:11 +0200

stsbl-iserv-file-distribution (17.05.01-0) experimental; urgency=medium

  * Moved file distribution menu item from network to education category.
  * Fixed grouping.
  * Renamed column "Host isolation activated" to "Host isolation".
  * Improved detection of Windows and Linux hosts.
  * Improved source code comment.
  * Fixed grammar.
  * Enhancements:
    Moved rpc message call to perl module.
    Added backend for sound enabling/disabling in rpc command and database.
  * Added dependency on stsbl-iserv-perl-lib for required perl libraries.
  * file-distribution.bat: syntax fixes.
  * Fixed accidentally deletion of shortcut in file-distribution.bat.
  * file-distibution.bat:
    Copy file-distribution-access-shares.bat to local computer and let the desktop shortcut points to the local copy, otherwhile Windows 7 will delete the shortcut directly.
    Run shortcut generation in background to speed-up the script.
  * Replaced wrong sql statement.
  * Added server-side login script for sound lock.
  * file_distribution_rpc:
    Store which account started sound lock.
    Hide output of windows cmd to prevent error message.
  * Added support in ui for sound enabling/disabling.
  * Major ui improvements:
    Show data from host control (internet access status, lock status,exam mode).
    Show deep link to file distribution directory next to title.
    Show host isolation only with an icon, instead with full text which needs
    much space.
    Moved displaying of file distribution owner from column to a title tool
    tip.
    Disabled useless show action.
    Display sound lock status with icon, too.
  * Updated l10n.
  * Dropped old code for show action.
  * Show who initiated a sound lock.
  * Added option to send messages via iserv-msg from file distribution management.
  * Updated l10n.
  * Updated l10n.
  * Adjusted sorting options.
  * file_distribution_off: Simplified output.
  * Added disabling of forgotten sound locks.
  * file_distribution_rpc:
    Moved some functions to common library.
  * Added cronjob for disabling sound lock.
  * file_distribution_rpc: Always use req_priv_or_root instead of req_priv.
  * Added support for displaying that internet access for a computer is granted/denied by privilege inet_access/inet_block.
  * Move hosts which are not in an active file distribution to bottom, if list is sorted by file distribution.
  * Added skipping of own host.
  * Only skip own host on enabling file distributions and if multiple hosts are selected.
  * Fixed internet state determination and added fallback to prevent twig errors.
  * Added iservchk script for cfg directory.
  * Added IncludeRoomAdmin.
  * Offer only unadded rooms in IncludeRoomAdmin.
  * Added filtering based on included rooms.
  * Added admin menu listener.
  * Added privilege for managing available rooms.
  * Added l10n for privs.
  * Added administrative logging.
  * Added install script for database bridges.

  iserv: Der Menüpunkt Dateiverteilung wurde in der Oberfläche von der
    Kategorie "Netzwerk" in die Kategorie "Unterricht" verschoben.

  iserv: Die Oberfläche der Dateiverteilung wurde vollständig überarbeitet und
    zeigt nun diverse Informationen aus der Rechnersteuerung mit an
    (Internetzugang, Klausurmodus, Rechnersperre), dies macht einen Wechsel
    zwischen beiden Modulen, nur um zu sehen, ob zum Beispiel ein Rechner
    Internetzugriff hat, nicht mehr nötig. Die häufig genutzte Funktion
    "Nachricht senden" aus der Rechnersteuerung kann auch nun direkt aus der
    Dateiverteilung heraus genutzt werden. Außerdem ist ein neues Modul
    enthalten, dass es erlaubt den Ton auf einzelnen  Rechnern an- und
    ausschalten. Weiterhin ist Administratoren möglich, unter "Verwaltung" > 
    "Module" > "Dateiverteilung" festzulegen, welche Geräte in der
    Dateiverteilung verfügbar sind, so können beispielsweise Schülergeräte,
    die nicht über die Einstellung "Steuerbar" aus der Dateiverteilung
    ausgeschlossen werden können, auf diesem Weg ausgenommen werden.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 01 May 2017 06:33:16 +0200

stsbl-iserv-file-distribution (17.03.21-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Made forgotten cronjob verbose again (broken since 17.03.19-0).
  * Added support for configurable host isolation.
  * Added iservcfg setting to make default isolation checkbox behaviour configurable.
  * Updated l10n.
  * Minor design fixes.
  * Added samba server-side login script.
  * Moved icon file from netlogon directory to samba directory.
  * Encode rpc messages in iso-8859-2.
  * Added workaround for umlauts in rpc messages.
  * Fixed displaying of logged-in users.

  iserv: Die Isolation der einzelnen Geräte untereinander kann nun bei Bedarf abgeschaltet werden, dann wird innerhalb der Dateiverteilung bei der Abgabe nur noch nach Benutzer untertschieden. Ob die Geräteisolierung standardmäßig beim Aktivieren einer Dateiverteilung aktiviert wird oder nicht, kann als Administrator in der Systemkonfiguration eingestellt werden.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Tue, 21 Mar 2017 22:57:37 +0100

stsbl-iserv-file-distribution (17.03.19-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * file_distribution_off: Disabled tainting.
  * Updated i18n.
  * Added rpc command:
    - Disabled direct write access to database table by web interface. This 
      is now handled by the file_distribution_rpc command which includes 
      a privilege check.
    - Users on PCs which are online now gets a notification about the file
      distribution.
    - If file distribution is enabled, a shortcut to access the files is
      created on the desktop of the hosts.
  * Updated i18n.

  iserv: Nach dem Aktivieren einer Dateiverteilung wird nun eine Desktopverknüpfung auf den entsprechenden Geräten angelegt. An Geräte, die bereits laufen, wird eine Benachrichtigung geschickt, dass eine Dateiverteilung aktiviert wurde.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sun, 19 Mar 2017 22:21:37 +0100

stsbl-iserv-file-distribution (17.02.25-0) experimental; urgency=medium
  
  [ Felix Jacobi ]
  * Replaced wrong cron job definition.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sun, 26 Feb 2017 00:03:41 +0100

stsbl-iserv-file-distribution (17.02.15-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added autocmpletion of title.
  * Do not show extings directory and running distribution at the same time.
  * Fixed typo.

  iserv: Beim Aktivieren von Dateiverteilungen werden bei der Eingabe des Titels nun bereits laufende Dateiverteilungen als auch Ordner, die sich bereits im Dateiverteilungsverzeichnis befinden, vorgeschlagen.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Wed, 15 Feb 2017 04:03:23 +0100

stsbl-iserv-file-distribution (17.02.13-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed cardinality violation.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Mon, 13 Feb 2017 23:57:58 +0100

stsbl-iserv-file-distribution (17.02.12-3) experimental; urgency=medium

  [ Felix Jacobi ]
  * Almost fixed sorting.
  * Added tooltips.
  * Fixed not allowed message.
  * Updated l10n.
  * Also require computer_boot privilege for the file distribution. (Without that the online status lookup does not work)
  * Added dependency on iserv3-host.
  * Removed dependency on stsbl-iserv3-js-libs.
  * Added iserv-computer advice.
  * Privacy: Hide user column if request comes from outside of lan.

  iserv: Datenschutz: Auch über die Oberfläche der Dateiverteilung ist nicht mehr von zuhause einsehbar, wer an welchen Rechner angemeldet ist.

  iserv: Das Sonderrecht "Computer starten und herunterfahren" aus Rechnersteuerung wird nun benötigt, um das Modul nutzen zu können, damit die Anzeige des Online-Status der Rechner funktioniert, bitte passen Sie in der Rechteverwaltung die Rechte bei Bedarf an.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sun, 12 Feb 2017 17:22:50 +0100

stsbl-iserv-file-distribution (17.02.12-2) experimental; urgency=medium

  [ Felix Jacobi ]
  * Display host type in list.
  * Fixed package description.
  * Display host online status in file distribution management.
  * Fixed displaying of only one login if a user is logged in on multiple hosts.
  * Bug fix: Disable browser validation of title field, if the cancel button is pressed.
  * Fixed grouping if the list is sorted by room.
  * Group hosts if sorted by internet access.
  * Revert "Group hosts if sorted by internet access."

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sun, 12 Feb 2017 06:18:55 +0100

stsbl-iserv-file-distribution (17.02.12-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Unified handling of component injection into the batch actions.
  * Improved invalid title handling.
  * Fixed windows domain notice.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sun, 12 Feb 2017 00:54:28 +0100

stsbl-iserv-file-distribution (17.02.12-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Fixed package description.
  * Fixed filtering.
  * Rework of IDesk ui with the host control as example.
  * Dropped legacy form.
  * Added missing files.
  * Display full name of user instead of account name.
  * Added list filters.
  * Added Windows domain notice on conirm action.
  * Added help text for title.
  * Removed unused l10n.
  * Improved confirmation batch layout.
  * Fixed detection of current action.
  * Added dependency on iserv-computer (for iserv-msg.exe used in login script).

  iserv: Die Benutzerfreundlichkeit der Oberfläche wurde erhöht und diese ähnelt nun der Rechnersteuerung.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Sun, 12 Feb 2017 00:08:48 +0100

stsbl-iserv-file-distribution (17.02.09-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added missing sudo configuration (broken since 17.02.08-0).
  * Fixed typo.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Thu, 09 Feb 2017 19:36:06 +0100

stsbl-iserv-file-distribution (17.02.08-1) experimental; urgency=medium

  [ Felix Jacobi ]
  * Added missing samba config.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Wed, 08 Feb 2017 01:50:05 +0100

stsbl-iserv-file-distribution (17.02.08-0) experimental; urgency=medium

  [ Felix Jacobi ]
  * Initial release.

 -- Stadtteilschule Blankenese <repository@stsbl.de>  Wed, 08 Feb 2017 01:11:20 +0100
